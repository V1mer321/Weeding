# Настройка Google Sheets для пожеланий

## Шаг 1: Создание Google Sheets

1. **Откройте Google Sheets**: https://sheets.google.com
2. **Создайте новую таблицу**
3. **Переименуйте таблицу** в "Пожелания на свадьбу"
4. **В первой строке создайте заголовки:**
   - A1: `id`
   - B1: `name`
   - C1: `text`
   - D1: `timestamp`

## Шаг 2: Получение ID таблицы

1. **Скопируйте URL вашей таблицы**
   - Пример: `https://docs.google.com/spreadsheets/d/1ABC123DEF456GHI789JKL/edit#gid=0`
2. **Найдите SHEET_ID** между `/d/` и `/edit`
   - В примере выше: `1ABC123DEF456GHI789JKL`

## Шаг 3: Создание Google Apps Script

1. **Откройте Google Apps Script**: https://script.google.com
2. **Создайте новый проект**
3. **Переименуйте проект** в "Wedding Wishes API"
4. **Замените весь код** на код из файла `google-wishes-script.js`
5. **Замените `ВАШ_SHEET_ID_ЗДЕСЬ`** на ваш реальный SHEET_ID

## Шаг 4: Настройка разрешений

1. **Сохраните проект** (Ctrl+S)
2. **Нажмите "Выполнить"** для функции `testAddWish`
3. **Разрешите доступ** к Google Sheets при первом запуске

## Шаг 5: Развертывание веб-приложения

1. **Нажмите "Развернуть" → "Новое развертывание"**
2. **Выберите тип:** "Веб-приложение"
3. **Настройки:**
   - Описание: "Wedding Wishes API"
   - Выполнять как: "Я"
   - У кого есть доступ: "Все"
4. **Нажмите "Развернуть"**
5. **Скопируйте URL веб-приложения**
   - Пример: `https://script.google.com/macros/s/ABC123.../exec`

## Шаг 6: Обновление сайта

1. **Откройте файл `script.js`**
2. **Найдите строку:**
   ```javascript
   const GOOGLE_SCRIPT_URL = '';
   ```
3. **Вставьте ваш URL:**
   ```javascript
   const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/ABC123.../exec';
   ```

## Шаг 7: Тестирование

1. **Откройте ваш сайт**
2. **Отправьте тестовое пожелание**
3. **Проверьте Google Sheets** - должна появиться новая строка
4. **Обновите страницу** - пожелание должно отобразиться

## Возможные проблемы

### Ошибка CORS
- Убедитесь, что в Apps Script добавлены заголовки CORS
- Проверьте, что веб-приложение доступно "Всем"

### Пожелания не сохраняются
- Проверьте SHEET_ID в Apps Script
- Убедитесь, что дали разрешения на доступ к Sheets

### Пожелания не отображаются
- Проверьте URL в script.js
- Откройте консоль браузера для поиска ошибок

## Дополнительные возможности

### Модерация пожеланий
Можно добавить столбец "approved" для модерации пожеланий перед показом.

### Уведомления
Можно настроить отправку уведомлений на email при новом пожелании.

### Статистика
Google Sheets автоматически ведет статистику всех пожеланий. 